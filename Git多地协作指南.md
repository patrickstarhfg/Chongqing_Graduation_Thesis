# Git 多地协作指南：如何安全地在家和公司同步代码

这是一个非常典型的 **“异地同步”** 场景。只要遵循一个黄金法则，你的文件就永远不会丢，也不会被覆盖：

**👉 黄金法则：先拉取（Pull），再工作，最后推送（Push）。**

---

## 场景模拟：下班回家后想继续工作

### 第一步：打开电脑，先做这一步！（最重要）
在你开始写任何新代码、下载任何新文件之前，请先告诉 AI（或者自己在终端执行）：

> **给 AI 的指令：**
> “我现在刚换了电脑（比如从公司回到家），请先帮我运行 `git pull` 拉取远程仓库的最新内容，确保我和公司上传的文件是同步的。如果有冲突，请告诉我。”

**为什么要这么做？**
如果你在公司上传了文件 A，回家后没拉取就直接开始写文件 B，等你写完想上传时，Git 会发现：“咦？你的版本里没有文件 A 啊？”这时候就容易出现冲突，或者不小心把文件 A 覆盖掉。

### 第二步：正常工作
拉取成功（显示 `Already up to date` 或下载了一些文件）后，你就可以放心大胆地工作了：
- 下载新文件
- 写新代码
- 修改旧文件

### 第三步：工作结束，上传到 GitHub
当你做完今天的工作，想把新文件传上去时，给 AI 这个指令：

> **给 AI 的指令（安全版）：**
> “我添加了一些新文件，请帮我把它们提交并推送到 GitHub。
> **注意：请只添加新增和修改的文件，不要强制覆盖或删除远程仓库里已有的其他文件。如果遇到冲突，请先帮我拉取最新代码（git pull）来合并，绝对不要使用 git push -f 强制推送。**”

---

## 总结：给 AI 的“万能安全提示词”

如果你怕记不住，每次换电脑工作时，直接把这段话发给 AI：

```text
我现在换了一个工作环境（比如从公司回家）。
1. 请先帮我执行 `git pull`，把远程仓库里最新的改动同步到我本地，防止我覆盖掉之前的工作。
2. 同步完成后，我会开始添加新文件。
3. 等我让你推送时，请用标准的方式（git add . -> git commit -> git push）推送，绝对不要用强制推送（force push）覆盖远程历史。
```

---

## 常见问题 Q&A

**Q: 如果我忘了 `git pull` 就开始工作了，怎么办？**
A: 别慌！在你推送之前，随时都可以补救。告诉 AI：“我刚才忘了拉取代码就修改了本地文件，现在请帮我安全地把远程代码合并进来（git pull --rebase），不要丢掉我刚写的修改。”

**Q: `git push -f` (强制推送) 是什么？为什么不能用？**
A: 强制推送就是“不讲道理的覆盖”。它会告诉 GitHub：“别管你那边有什么，全听我的，我这里没有的文件你那里也得删掉。” **这是导致文件丢失的头号杀手，除非你非常清楚自己在做什么，否则永远不要让 AI 执行这个命令。**
