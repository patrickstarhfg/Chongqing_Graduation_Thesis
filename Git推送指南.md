# Git 推送指南：仅上传大文件而不拉取旧内容

你遇到的场景非常具体：
1.  **不想拉取**：家里网速慢，或者不想把公司的一堆旧文件下载到家里电脑占地方。
2.  **只想上传**：手里有一个大文件（超过 25MB），网页端传不上去，必须用 Git。
3.  **不能覆盖**：必须保留远程仓库里已有的文件，只是把这个新文件“加”进去。

这是一个比较高级且有风险的操作，因为 Git 默认机制是“先同步，再修改”。如果你强行只推新的，很容易把旧的冲掉。

但是，我们可以用 **“浅克隆（Shallow Clone）”** 或者 **“无历史初始化”** 的方法来巧妙解决这个问题。

---

## 方法一：最推荐！“浅克隆”法（省流量又安全）

这个方法只会下载最近的一次记录，速度极快，而且能保证你和远程仓库建立正确的连接，不会覆盖别人的代码。

**给 AI 的指令：**
> “我需要向远程仓库上传一个大文件，但我不想下载所有的历史记录。请帮我执行以下操作：
> 1. 使用 `git clone --depth 1 <仓库地址>` 浅克隆仓库（只下载最近一次提交，速度很快）。
> 2. 把我的大文件放入这个克隆下来的文件夹里。
> 3. 执行 `git add` 和 `git commit`。
> 4. 最后 `git push` 推送上去。”

**为什么这样做最安全？**
因为你虽然没有下载所有历史，但你有了“最新的状态”。Git 知道你是基于最新状态修改的，所以会允许你推送，而且绝对不会删除远程的其他文件。

---

## 方法二：无克隆直接上传（适合不想下载任何东西）

如果你连 `git clone` 都不想做，想直接在本地一个新文件夹里把文件推上去，需要非常小心。

**给 AI 的指令：**
> “我有一个新文件要上传到现有的远程仓库，但我本地没有仓库，也不想 pull 任何东西。请帮我：
> 1. `git init` 初始化新仓库。
> 2. `git remote add origin <仓库地址>` 关联远程。
> 3. `git fetch --depth=1 origin main` 获取远程最新状态（不下载文件，只获取信息）。
> 4. `git reset --soft origin/main` 把本地仓库的状态‘骗’成和远程一样。
> 5. `git add <我的大文件>`。
> 6. `git commit -m "Add new big file"`。
> 7. `git push origin main`。”

**⚠️ 警告**：
如果不做第 3、4 步（获取状态并重置），直接 `git push`，Git 会报错提示“版本不一致”，这时候如果你用 `git push -f`（强制推送），**远程仓库里的所有旧文件就全都没了！** 千万别这么干！

---

## 总结：给 AI 的“只传大文件”安全提示词

为了不把事情搞砸，回家后直接用这套提示词：

```text
你好，我在家，需要上传一个大于 25MB 的文件到 GitHub 仓库。
1. 我不想下载仓库里已有的所有旧文件（太大了），但我希望把这个新文件安全地“添加”进去。
2. 请帮我用“浅克隆”（git clone --depth 1）的方式，只拉取最小的元数据。
3. 然后把我的文件提交并推送上去。
4. 绝对不要覆盖或删除远程仓库里的任何现有文件。
```

这样，AI 就会懂你的意思：**“我要省流量，但我还要安全。”** 🛡️
